<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Главная | MathLeagueAdmin</title>

    <th:block  th:insert="~{main-template :: styles}"></th:block>

    <link rel="stylesheet" th:href="@{/css/tabstyle/tabstyle.css}" />

</head>

<meta name="_csrf" th:content="${_csrf.token}"/>
<meta name="_csrf_header" th:content="${_csrf.headerName}"/>

    <body>

    <header th:insert="~{main-template :: header}"></header>

    <main>
        <div id="tab-div">
            <table id="table" class="draggable-table">
                <thead>
                <tr>
                    <th>Номер</th>
                    <th>Название</th>
                    <th>Автор</th>
                    <th>Дата публикации</th>
                    <th>Действия</th>
                </tr>
                </thead>
                <tbody>
                <th:block th:each="problem : ${allProblems}">
                    <tr class="">
                        <td th:text="${problem.priority}"></td>
                        <td th:text="${problem.title}"></td>
                        <td th:text="${problem.author.user_nick}"></td>
                        <td>27.06.2023</td>
                        <td>
                            <button class="action-btn edit-btn" title="Редактировать" type="button" ><i class="fas fa-edit"></i></button>
                            <button class="action-btn delete-btn" th:attr="data-problem-id=${problem.id}" title="Удалить"><i class="fas fa-trash-alt"></i></button>
                        </td>
                    </tr>
                </th:block>
                </tbody>
            </table>
        </div>
    </main>

    <button class="custom-btn btn-13" onclick="window.location='new-problem';">
        <i class="fa-solid fa-plus"></i>
    </button>

    <footer th:insert="~{main-template :: footer}"></footer>

    </body>

<script th:src="@{/js/tabstyle/tabstyle.js}"></script>
</html>